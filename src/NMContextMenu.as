package {		import flash.display.Sprite;	import flash.display.Stage;	import flash.events.ContextMenuEvent;	import flash.system.System;	import flash.ui.ContextMenu;	import flash.ui.ContextMenuItem;
		public class NMContextMenu extends Sprite {				public static var videoPlayer:NMVideoPlayer;				private var _stage:Stage;		private var _menu:ContextMenu;		private var _menuCopyright:ContextMenuItem;		private var _menuEmbed:ContextMenuItem;		private var _menuLink:ContextMenuItem;				private var separator:Boolean;		private var paramVideoLink:String;		private var embedText:String;		private var appVers:String;				public function NMContextMenu(_stage:Stage, _menu:ContextMenu, _appVers:String) {						this._stage = _stage;			this._menu = _menu;			this.appVers = _appVers;						separator = true;			embedText = videoPlayer.getEmbedText();			paramVideoLink = videoPlayer.getVideoLink();						_menu.hideBuiltInItems();						_menuCopyright = new ContextMenuItem("NM VideoPlayer " + appVers, false, false, true);			_menu.customItems.push(_menuCopyright);						if (paramVideoLink == "NO_LINK") {															} else {								createItemLink();							}						if (embedText == null || embedText == "") {															} else {								createItemEmbed();							}						contextMenu = _menu;					}				private function createItemLink():void		{						_menuLink = new ContextMenuItem("Копировать URL новости", separator, true, true);			_menuLink.addEventListener(ContextMenuEvent.MENU_ITEM_SELECT, copyVideoLink);				_menu.customItems.push(_menuLink);						separator = false;					}				private function createItemEmbed():void		{						_menuEmbed = new ContextMenuItem("Копировать HTML код", separator, true, true);			_menuEmbed.addEventListener(ContextMenuEvent.MENU_ITEM_SELECT, copyEmbedHtml);			_menu.customItems.push(_menuEmbed);					}				private function copyEmbedHtml(event:ContextMenuEvent):void		{						System.setClipboard(embedText);					}				private function copyVideoLink(event:ContextMenuEvent):void		{						System.setClipboard(paramVideoLink);					}	}	}